DROP TABLE IF EXISTS RSVP CASCADE;
DROP TABLE IF EXISTS EVENTCATEGORY CASCADE;
DROP TABLE IF EXISTS EVENT CASCADE;
DROP TABLE IF EXISTS USERDETAILS CASCADE;
DROP TABLE IF EXISTS CATEGORY CASCADE;
DROP TABLE IF EXISTS LOCATION CASCADE;
DROP TABLE IF EXISTS LOGIN CASCADE;

CREATE TABLE LOGIN(
	LOGINID SERIAL PRIMARY KEY,
    USERNAME VARCHAR(20),
    PASSWORD VARCHAR(20)
);

CREATE TABLE LOCATION(
    LOCATIONID SERIAL PRIMARY KEY,
    LOCATIONNAME VARCHAR(20),
    LATITUDE NUMERIC(7,4),
    LONGITUDE NUMERIC(7,4)
);

CREATE TABLE CATEGORY(
    CATEGORYID SERIAL PRIMARY KEY,
    CATEGORYNAME VARCHAR(15)
);

CREATE TABLE USERDETAILS(
    USERID SERIAL PRIMARY KEY,
    FIRSTNAME VARCHAR(20),
    LASTNAME VARCHAR(20),
    LOGINID INT REFERENCES LOGIN(LOGINID),
    CONTACTNUMBER VARCHAR(12)
);

CREATE TABLE EVENT(
    EVENTID SERIAL PRIMARY KEY,
    EVENTNAME TEXT,
    EVENTDESCRIPTION TEXT,
    EVENTDATE DATE,
    STARTTIME TIME,
    ENDTIME TIME,
    LOCATIONID INT REFERENCES LOCATION(LOCATIONID),
    CREATOR INT REFERENCES USERDETAILS(USERID)
);

CREATE TABLE EVENTCATEGORY(
    EVENTID INT REFERENCES EVENT(EVENTID),
    CATEGORYID INT REFERENCES CATEGORY(CATEGORYID)
);

CREATE TABLE RSVP(
    USERID INT REFERENCES USERDETAILS(USERID),
    EVENTID INT REFERENCES EVENT(EVENTID),
    STATUS BOOLEAN
);
    